name: '📦 Bootstrap'
description: 'Install and configure dependencies'

runs:
    using: 'composite'
    steps:
        - name: 💾 Cache node modules
          uses: actions/cache@v4
          with:
              path: |
                  ~/.bun/install/cache
                  ${{ github.workspace }}/**/.next
                  ${{ github.workspace }}/**/deps
                  ${{ github.workspace }}/**/node_modules
              key: ${{ runner.os }}-node-build-${{ hashFiles('**/bun.lockb') }}-
              restore-keys: |
                  ${{ runner.os }}-node-build-${{ hashFiles('**/bun.lockb') }}-
                  ${{ runner.os }}-node-build-
                  ${{ runner.os }}-

        - name: 🏎️ Setup Bun
          uses: oven-sh/setup-bun@v1
          with:
              bun-version: canary

        - name: 📦 Install dependencies
          shell: bash
          run: bun install
